<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>SAEB 2025 - QUIZ SAEB 2025 🔥</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;600;700&family=Roboto+Condensed:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-green: #00FF88;
            --neon-pink: #FF0080;
            --neon-blue: #00BFFF;
            --neon-yellow: #FFFF00;
            --dark-bg: #0A0A0A;
            --darker-bg: #050505;
            --card-bg: #151515;
            --text-primary: #FFFFFF;
            --text-secondary: #CCCCCC;
            --accent-orange: #FF6B35;
            --gradient-main: linear-gradient(135deg, #FF0080, #00FF88, #00BFFF);
            --gradient-secondary: linear-gradient(45deg, #FF6B35, #FFFF00);
        }

        body {
            font-family: 'Roboto Condensed', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.4;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* BACKGROUND EFFECTS */
        .bg-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(rgba(0, 255, 136, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 136, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 1;
            pointer-events: none;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .neon-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--neon-green);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-green);
            animation: particleFloat 8s infinite ease-in-out;
        }

        @keyframes particleFloat {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10%, 90% { opacity: 1; }
            50% { transform: translateY(-10vh) rotate(180deg); }
        }

        /* HEADER */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--neon-green);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        /* MOBILE MENU */
        .mobile-menu-toggle {
            display: none;
            background: transparent;
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            width: 45px;
            height: 45px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            z-index: 1001;
        }

        .mobile-menu-toggle:hover {
            background: var(--neon-green);
            color: var(--dark-bg);
            transform: scale(1.05);
        }

        .mobile-menu-toggle span {
            display: block;
            width: 25px;
            height: 3px;
            background: currentColor;
            margin: 4px auto;
            transition: all 0.3s ease;
        }

        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--neon-green);
            padding: 1rem;
            z-index: 999;
            transform: translateY(-120%);
            transition: transform 0.3s ease;
            max-height: calc(100vh - 70px);
            overflow-y: auto;
        }

        .mobile-nav.active {
            transform: translateY(0);
        }

        .mobile-nav-item {
            display: block;
            padding: 1rem;
            margin: 0.5rem 0;
            background: var(--card-bg);
            border: 1px solid var(--neon-pink);
            border-radius: 10px;
            color: var(--text-primary);
            text-decoration: none;
            text-align: center;
            font-weight: 700;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .mobile-nav-item:hover {
            background: var(--neon-green);
            color: var(--dark-bg);
            transform: translateX(10px);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 700;
            background: var(--gradient-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: 3px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .logo:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 20px var(--neon-green));
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .prototype-tag {
            background: var(--gradient-secondary);
            color: var(--dark-bg);
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .prototype-tag::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .prototype-tag:hover::before {
            left: 100%;
        }

        .back-btn {
            background: var(--gradient-secondary);
            color: var(--dark-bg);
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-family: 'Oswald', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: clamp(0.8rem, 2vw, 1rem);
        }

        .back-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
        }

        /* MAIN CONTAINER */
        .main-container {
            position: relative;
            z-index: 10;
            margin-top: 80px;
        }

        /* HOME PAGE STYLES */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: radial-gradient(ellipse at center, rgba(255, 0, 128, 0.1) 0%, transparent 70%);
            padding: 2rem 1rem;
        }

        .hero-content {
            text-align: center;
            z-index: 10;
            max-width: 900px;
            width: 100%;
        }

        .hero h1 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 1rem;
            background: var(--gradient-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            letter-spacing: 0.5px;
            animation: glitchText 3s ease-in-out infinite;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        @keyframes glitchText {
            0%, 90%, 100% { transform: translate(0); }
            92% { transform: translate(-2px, 1px); }
            94% { transform: translate(1px, -1px); }
            96% { transform: translate(-1px, 2px); }
            98% { transform: translate(2px, 1px); }
        }

        .hero .subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: 3rem;
            color: var(--text-secondary);
            font-weight: 300;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .cta-main {
            display: inline-block;
            background: var(--gradient-main);
            color: var(--dark-bg);
            padding: clamp(1rem, 3vw, 1.5rem) clamp(2rem, 5vw, 4rem);
            border: none;
            border-radius: 50px;
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1rem, 3vw, 1.5rem);
            font-weight: 700;
            text-transform: uppercase;
            text-decoration: none;
            letter-spacing: 2px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(255, 0, 128, 0.5);
        }

        .cta-main:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 50px rgba(0, 255, 136, 0.6);
            filter: brightness(1.2);
        }

        .cta-main::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .cta-main:hover::before {
            left: 100%;
        }

        /* STATS SECTION */
        .stats-section {
            background: var(--card-bg);
            border: 2px solid var(--neon-green);
            border-radius: 20px;
            padding: clamp(2rem, 5vw, 3rem);
            margin: -4rem clamp(1rem, 3vw, 2rem) 4rem;
            position: relative;
            z-index: 10;
            backdrop-filter: blur(20px);
            box-shadow: 0 0 50px rgba(0, 255, 136, 0.3);
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: clamp(1rem, 3vw, 2rem);
        }

        .stat-card {
            text-align: center;
            padding: clamp(1.5rem, 3vw, 2rem);
            background: var(--darker-bg);
            border: 1px solid var(--neon-pink);
            border-radius: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--gradient-main);
            transform: scaleX(0);
            transition: transform 0.5s ease;
        }

        .stat-card:hover {
            transform: translateY(-10px) rotate(2deg);
            border-color: var(--neon-green);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-number {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            color: var(--neon-green);
            text-shadow: 0 0 20px var(--neon-green);
        }

        .stat-label {
            font-size: clamp(0.8rem, 2vw, 1rem);
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        /* MAIN CONTENT */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 4rem clamp(1rem, 3vw, 2rem);
            position: relative;
            z-index: 5;
        }

        .section {
            margin: 6rem 0;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 3rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-main);
            border-radius: 2px;
        }

        .section-text {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 3rem;
        }

        /* CARDS GRID */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: clamp(1.5rem, 3vw, 2rem);
            margin: 3rem 0;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid transparent;
            border-radius: 20px;
            padding: clamp(2rem, 4vw, 2.5rem);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-main);
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 20px;
            z-index: -1;
        }

        .card:hover {
            transform: translateY(-15px) scale(1.02);
            border-color: var(--neon-green);
            box-shadow: 0 20px 60px rgba(0, 255, 136, 0.2);
        }

        .card:hover::before {
            opacity: 0.1;
        }

        .card-icon {
            font-size: clamp(3rem, 6vw, 4rem);
            margin-bottom: 1.5rem;
            display: block;
            filter: drop-shadow(0 0 10px currentColor);
        }

        .card-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.4rem, 3vw, 1.8rem);
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 1rem;
            color: var(--neon-green);
        }

        .card-text {
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        /* HIGHLIGHT BOX */
        .highlight-box {
            background: var(--gradient-main);
            color: var(--dark-bg);
            padding: clamp(2rem, 5vw, 3rem);
            border-radius: 20px;
            margin: 3rem 0;
            position: relative;
            overflow: hidden;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: clamp(1.5rem, 4vw, 3rem);
            flex-wrap: wrap;
        }

        .highlight-box::before {
            content: '⚡';
            font-size: clamp(4rem, 8vw, 8rem);
            position: absolute;
            top: -20px;
            right: 20px;
            opacity: 0.3;
        }

        .highlight-content {
            flex: 1;
            min-width: 280px;
            z-index: 2;
        }

        .highlight-image {
            flex: 0 0 auto;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            width: clamp(100px, 20vw, 150px);
            height: clamp(100px, 20vw, 150px);
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 3px solid rgba(0, 0, 0, 0.3);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        .highlight-image-placeholder {
            color: rgba(0, 0, 0, 0.5);
            font-size: clamp(2rem, 4vw, 3rem);
            text-align: center;
        }

        .highlight-box h3 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.5rem, 4vw, 2rem);
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .highlight-quote {
            font-style: italic;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .highlight-author {
            font-weight: 900;
            font-size: clamp(0.8rem, 2vw, 0.9rem);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* QUIZ LOBBY STYLES */
        .quiz-container {
            display: flex;
            min-height: calc(100vh - 80px);
            padding: 2rem;
            gap: 2rem;
        }

        .quiz-selection {
            flex: 2;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .lobby-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 900;
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 1rem;
            background: var(--gradient-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: glitchText 3s ease-in-out infinite;
        }

        .lobby-subtitle {
            text-align: center;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: var(--text-secondary);
            margin-bottom: 3rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .quiz-card {
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 25px;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .quiz-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-main);
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 25px;
            z-index: -1;
        }

        .quiz-card:hover {
            transform: translateY(-15px) scale(1.02);
            border-color: var(--neon-green);
            box-shadow: 0 20px 60px rgba(0, 255, 136, 0.3);
        }

        .quiz-card:hover::before {
            opacity: 0.1;
        }

        .quiz-card.matematica {
            border-color: var(--neon-blue);
        }

        .quiz-card.portugues {
            border-color: var(--neon-pink);
        }

        .quiz-card.matematica:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 20px 60px rgba(0, 191, 255, 0.3);
        }

        .quiz-card.portugues:hover {
            border-color: var(--neon-pink);
            box-shadow: 0 20px 60px rgba(255, 0, 128, 0.3);
        }

        .quiz-icon {
            font-size: clamp(4rem, 8vw, 5rem);
            margin-bottom: 1.5rem;
            display: block;
            filter: drop-shadow(0 0 15px currentColor);
            animation: pulse 2s infinite ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .quiz-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }

        .quiz-card.matematica .quiz-title {
            color: var(--neon-blue);
        }

        .quiz-card.portugues .quiz-title {
            color: var(--neon-pink);
        }

        .quiz-description {
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .quiz-difficulty {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .difficulty-star {
            font-size: 1.5rem;
            color: var(--neon-yellow);
            filter: drop-shadow(0 0 5px var(--neon-yellow));
        }

        .start-quiz-btn {
            background: var(--gradient-main);
            color: var(--dark-bg);
            padding: clamp(1rem, 3vw, 1.2rem) clamp(2rem, 4vw, 3rem);
            border: none;
            border-radius: 50px;
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
            position: relative;
            overflow: hidden;
        }

        .start-quiz-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.5);
        }

        .start-quiz-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .start-quiz-btn:hover::before {
            left: 100%;
        }

        /* DIAGNOSTICS PANEL */
        .diagnostics-panel {
            flex: 1;
            max-width: 400px;
            padding: 2rem;
            background: var(--card-bg);
            border-left: 2px solid var(--neon-green);
            min-height: calc(100vh - 80px);
            position: sticky;
            top: 80px;
            overflow-y: auto;
            max-height: calc(100vh - 80px);
        }

        /* STATS IMPROVEMENTS */
        .stats-summary {
            background: var(--darker-bg);
            border: 1px solid var(--neon-yellow);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .stats-summary h4 {
            color: var(--neon-yellow);
            font-family: 'Oswald', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .level-badge {
            display: inline-block;
            background: var(--gradient-main);
            color: var(--dark-bg);
            padding: 0.5rem 1.5rem;
            border-radius: 20px;
            font-weight: 900;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            animation: pulse 2s infinite;
        }

        .xp-bar {
            width: 100%;
            height: 20px;
            background: var(--darker-bg);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 1rem;
            position: relative;
        }

        .xp-fill {
            height: 100%;
            background: var(--gradient-secondary);
            border-radius: 10px;
            transition: width 1s ease;
            position: relative;
            overflow: hidden;
        }

        .xp-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .xp-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .achievement-popup {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--gradient-main);
            color: var(--dark-bg);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            font-weight: 700;
            z-index: 10000;
            transform: translateX(400px);
            transition: transform 0.5s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .achievement-popup.show {
            transform: translateX(0);
        }

        .diagnostics-title {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.5rem, 3vw, 2rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 2rem;
            color: var(--neon-green);
            text-align: center;
            position: relative;
        }

        .diagnostics-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--gradient-main);
            border-radius: 2px;
        }

        .diagnostic-card {
            background: var(--darker-bg);
            border: 1px solid var(--neon-pink);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .diagnostic-card:hover {
            border-color: var(--neon-green);
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.2);
            transform: translateY(-5px);
        }

        .diagnostic-label {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            font-weight: 700;
            text-transform: uppercase;
            color: var(--neon-yellow);
            margin-bottom: 0.5rem;
        }

        .diagnostic-value {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: 900;
            color: var(--text-primary);
        }

        .diagnostic-bar {
            width: 100%;
            height: 10px;
            background: var(--darker-bg);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .diagnostic-fill {
            height: 100%;
            background: var(--gradient-main);
            border-radius: 5px;
            transition: width 1s ease;
        }

        .no-data {
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
            padding: 2rem;
            border: 2px dashed var(--neon-pink);
            border-radius: 15px;
            margin: 2rem 0;
        }

        .player-stats {
            background: var(--darker-bg);
            border: 1px solid var(--neon-blue);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: clamp(0.8rem, 2vw, 0.9rem);
        }

        .stat-value {
            color: var(--neon-green);
            font-weight: 700;
        }

        /* FINAL CTA */
        .final-cta {
            background: var(--darker-bg);
            border: 2px solid var(--neon-pink);
            border-radius: 25px;
            padding: clamp(3rem, 6vw, 4rem);
            text-align: center;
            margin: 6rem 0;
            position: relative;
            overflow: hidden;
        }

        .final-cta::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                var(--neon-green) 0deg,
                var(--neon-pink) 90deg,
                var(--neon-blue) 180deg,
                var(--neon-yellow) 270deg,
                var(--neon-green) 360deg
            );
            animation: rotate 8s linear infinite;
            opacity: 0.1;
        }

        .final-cta-content {
            position: relative;
            z-index: 2;
        }

        .final-cta h2 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.8rem, 4vw, 3.5rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 2rem;
            background: var(--gradient-main);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* CREDITS */
        .credits {
            background: var(--card-bg);
            padding: clamp(3rem, 6vw, 4rem) clamp(1rem, 3vw, 2rem);
            text-align: center;
            border-top: 2px solid var(--neon-green);
        }

        .credits h3 {
            font-family: 'Oswald', sans-serif;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 2rem;
            color: var(--neon-yellow);
        }

        .creators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: clamp(1rem, 3vw, 2rem);
            justify-content: center;
            margin: 2rem 0;
        }

        .creator-card {
            background: var(--darker-bg);
            border: 1px solid var(--neon-pink);
            padding: clamp(1.5rem, 3vw, 2rem);
            border-radius: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .creator-card:hover {
            transform: scale(1.05);
            border-color: var(--neon-green);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        .creator-name {
            font-family: 'Oswald', sans-serif;
            font-weight: 700;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--neon-green);
        }

        /* FOOTER */
        footer {
            background: var(--darker-bg);
            border-top: 1px solid var(--neon-green);
            padding: clamp(2rem, 4vw, 2rem);
            text-align: center;
            color: var(--text-secondary);
        }

        footer p {
            font-size: clamp(0.8rem, 2vw, 1rem);
            margin: 0.5rem 0;
        }

        /* SCROLL TO TOP */
        .scroll-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: clamp(50px, 8vw, 60px);
            height: clamp(50px, 8vw, 60px);
            background: var(--gradient-main);
            border: none;
            border-radius: 50%;
            color: var(--dark-bg);
            font-size: clamp(1rem, 3vw, 1.5rem);
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
        }

        /* ANIMATIONS */
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px currentColor; }
            50% { box-shadow: 0 0 30px currentColor, 0 0 50px currentColor; }
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        @keyframes rainbow {
            0% { filter: hue-rotate(0deg) brightness(1); }
            25% { filter: hue-rotate(90deg) brightness(1.2); }
            50% { filter: hue-rotate(180deg) brightness(1); }
            75% { filter: hue-rotate(270deg) brightness(1.2); }
            100% { filter: hue-rotate(360deg) brightness(1); }
        }

        .card:hover .card-icon,
        .quiz-card:hover .quiz-icon {
            animation: glow 2s ease-in-out infinite;
        }

        /* RESPONSIVE ADJUSTMENTS */
        @media (max-width: 1200px) {
            .diagnostics-panel {
                max-width: 350px;
            }
        }

        @media (max-width: 1024px) {
            .quiz-container {
                flex-direction: column;
            }
            
            .diagnostics-panel {
                max-width: 100%;
                border-left: none;
                border-top: 2px solid var(--neon-green);
                position: static;
                min-height: auto;
                max-height: none;
            }

            .mobile-menu-toggle {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .nav-controls {
                display: none !important;
            }

            .mobile-nav {
                display: block;
            }
            
            .header-content {
                gap: 0.5rem;
            }
            
            .prototype-tag {
                display: none !important;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 1rem;
                justify-content: space-between;
                flex-wrap: nowrap;
            }

            .logo {
                font-size: clamp(1.2rem, 3.5vw, 1.5rem);
                letter-spacing: 1px;
                flex: 1;
            }

            .main-container {
                margin-top: 70px;
            }

            .hero {
                margin-top: 0;
                min-height: auto;
                padding: 3rem 1rem 2rem;
            }
            
            .hero h1 {
                margin-bottom: 0.5rem;
            }
            
            .hero .subtitle {
                margin-bottom: 1.5rem;
            }

            .stats-section {
                margin: 1rem 1rem 2rem;
                padding: 1.5rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .stat-card {
                padding: 1rem;
            }

            .stat-number {
                font-size: 2rem;
            }

            .highlight-box {
                flex-direction: column;
                text-align: center;
                gap: 2rem;
            }

            .highlight-image {
                order: -1;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .quiz-options {
                grid-template-columns: 1fr;
            }

            .creators-grid {
                grid-template-columns: 1fr;
            }

            .quiz-container {
                padding: 1rem;
            }

            .quiz-selection {
                padding: 1rem;
            }

            .diagnostics-panel {
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .header-content {
                padding: 0.8rem;
            }

            .logo {
                font-size: clamp(1rem, 4vw, 1.3rem);
                letter-spacing: 0.5px;
            }

            .mobile-menu-toggle {
                width: 40px;
                height: 40px;
            }

            .hero h1 {
                font-size: 2rem;
                letter-spacing: 0.5px;
                line-height: 1.2;
            }

            .hero .subtitle {
                font-size: 0.9rem;
                margin-bottom: 1.5rem;
            }

            .cta-main {
                padding: 1rem 2rem;
                font-size: 1rem;
                margin-bottom: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }

            .quiz-card {
                padding: 1.5rem 1rem;
            }

            .quiz-icon {
                font-size: 3rem;
            }

            .quiz-title {
                font-size: 1.5rem;
            }

            .cards-grid {
                gap: 1rem;
            }

            .card {
                padding: 1.5rem;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .diagnostic-card {
                padding: 1rem;
            }

            .scroll-top {
                width: 45px;
                height: 45px;
                bottom: 1rem;
                right: 1rem;
            }
        }

        @media (max-width: 360px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .quiz-options {
                grid-template-columns: 1fr;
            }
        }

        /* ACCESSIBILITY */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* LOADING */
        .loading {
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* ROUTE OVERLAY */
        .route-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(6px);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.25s ease;
        }

        .route-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .spinner {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            border: 6px solid rgba(255,255,255,0.1);
            border-top-color: #fff;
            animation: spin 1s linear infinite;
            box-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 1rem;
            color: var(--text-secondary);
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* CUSTOM SCROLLBAR */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--darker-bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-main);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--neon-green);
        }

        /* TOUCH IMPROVEMENTS */
        @media (hover: none) and (pointer: coarse) {
            .quiz-card:active,
            .card:active,
            .stat-card:active,
            .creator-card:active {
                transform: scale(0.98);
            }

            .cta-main:active,
            .start-quiz-btn:active,
            .back-btn:active {
                transform: scale(0.98);
            }

            /* Aumentar área de toque em dispositivos móveis */
            button, a, .clickable {
                min-height: 44px;
                min-width: 44px;
                touch-action: manipulation;
            }

            /* Desabilitar hover effects em touch devices */
            .card:hover,
            .quiz-card:hover,
            .stat-card:hover {
                transform: none;
                box-shadow: none;
            }
            
            /* Melhorar toque em alternativas */
            .alternative {
                min-height: 48px;
            }
        }

        /* SWIPE INDICATOR */
        .swipe-indicator {
            display: none;
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 1rem;
            animation: swipeHint 2s infinite;
        }

        @media (max-width: 768px) {
            .swipe-indicator {
                display: block;
            }
        }

        @keyframes swipeHint {
            0%, 100% { transform: translateX(0); opacity: 0.5; }
            50% { transform: translateX(10px); opacity: 1; }
        }

        /* LANDSCAPE MODE ADJUSTMENTS */
        @media (max-height: 500px) and (orientation: landscape) {
            header {
                padding: 0.5rem 0;
                position: sticky;
            }

            .header-content {
                padding: 0.5rem 1rem;
            }

            .hero {
                min-height: calc(100vh - 60px);
                padding: 2rem 1rem;
            }

            .hero h1 {
                font-size: clamp(2rem, 5vw, 2.5rem);
            }

            .stats-section {
                margin-top: 2rem;
            }
            
            .mobile-nav {
                top: 60px;
                max-height: calc(100vh - 60px);
            }
        }
        
        /* Fix para scroll em iOS */
        @supports (-webkit-touch-callout: none) {
            body {
                -webkit-overflow-scrolling: touch;
            }
            
            .mobile-nav {
                -webkit-overflow-scrolling: touch;
            }
        }
        
        /* Melhorar foco visível para acessibilidade */
        body:not(.using-mouse) *:focus {
            outline: 3px solid var(--neon-green);
            outline-offset: 2px;
        }
        
        /* Remover outline quando usando mouse */
        body.using-mouse *:focus {
            outline: none;
        }
        
        /* Skip to content link para acessibilidade */
        .skip-to-content {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--neon-green);
            color: var(--dark-bg);
            padding: 8px;
            text-decoration: none;
            font-weight: 700;
            z-index: 10001;
            border-radius: 0 0 8px 0;
        }
        
        .skip-to-content:focus {
            top: 0;
        }
    </style>
</head>
<body class="loading">
    <!-- Background Effects -->
    <div class="bg-grid"></div>
    <div class="neon-particles" id="particles"></div>
    <!-- Route Loader -->
    <div class="route-overlay" id="routeOverlay">
        <div class="spinner"></div>
        <div class="loading-text" id="routeOverlayText">Carregando...</div>
    </div>

    <!-- Header -->
    <header id="header" role="banner">
        <div class="header-content">
            <div class="logo" onclick="showPage('home')" role="button" tabindex="0" aria-label="Voltar ao início">🔥 SAEB 2025</div>
            <div class="nav-controls">
                <div class="prototype-tag" aria-label="Versão beta 2025">BETA 2025</div>
                <button class="back-btn" id="backBtn" onclick="showPage('home')" style="display: none;" aria-label="Voltar">⬅️ VOLTAR</button>
            </div>
            <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleMobileMenu()" aria-label="Menu de navegação" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <nav class="mobile-nav" id="mobileNav" role="navigation" aria-label="Menu principal">
            <a href="#" class="mobile-nav-item" onclick="showPage('home'); toggleMobileMenu();" aria-label="Ir para página inicial">🏠 Início</a>
            <a href="#" class="mobile-nav-item" onclick="showPage('lobby'); toggleMobileMenu();" aria-label="Ir para lobby de quiz">🎮 Jogar Quiz</a>
            <a href="#" class="mobile-nav-item" onclick="showStats(); toggleMobileMenu();" aria-label="Ver estatísticas">📊 Estatísticas</a>
            <a href="#" class="mobile-nav-item" onclick="resetProgress(); toggleMobileMenu();" aria-label="Resetar todo o progresso">🔄 Resetar Progresso</a>
        </nav>
    </header>

    <div class="main-container">
        <!-- HOME PAGE -->
        <div id="homePage" class="page active">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <h1>QUIZ SAEB 2025</h1>
                    <p class="subtitle">DOMINE O SAEB COM ESTILO</p>
                    <button class="cta-main" onclick="showPage('lobby')">🎯 VAMO QUE VAMO</button>
                </div>
            </section>

            <!-- Stats Section -->
            <div class="main-content">
                <section class="stats-section">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">2</div>
                            <div class="stat-label">ÁREAS DO CONHECIMENTO</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">3ª</div>
                            <div class="stat-label">SÉRIE ENSINO MÉDIO</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">100%</div>
                            <div class="stat-label">DE GRAÇA FAMÍLIA</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">∞</div>
                            <div class="stat-label">TENTATIVAS</div>
                        </div>
                    </div>
                </section>

                <!-- Main Sections -->
                <section class="section">
                    <h2 class="section-title">📚 SAEB NA VEIA</h2>
                    <p class="section-text">
                        Mano, o SAEB é tipo aquele teste que vai mostrar se tu realmente manjou dos paranaué durante o Ensino Médio. É a prova de fogo que vai testar se tu tá preparado pras parada mais sérias da vida. Não é só mais um teste qualquer, é O teste que pode abrir as portas pro teu futuro.
                    </p>
                    
                    <div class="highlight-box">
                        <div class="highlight-content">
                            <h3>⚡ A VIDA É UM DESAFIO</h3>
                            <p class="highlight-quote">NÃO ESPERE O FUTURO MUDAR SUA VIDA PORQUE O FUTURO SERÁ A CONSEQUÊNCIA DO PRESENTE</p>
                            <p class="highlight-author">- RACIONAIS MC's</p>
                        </div>
                        <div class="highlight-image">
                            <div class="highlight-image-placeholder">🎵</div>
                        </div>
                    </div>

                    <h3 style="color: var(--neon-green); font-family: 'Oswald', sans-serif; font-size: clamp(1.5rem, 4vw, 2rem); margin: 3rem 0 2rem; text-transform: uppercase;">🔥 AS MATÉRIAS QUE FAZEM A DIFERENÇA</h3>
                    <div class="cards-grid">
                        <div class="card">
                            <span class="card-icon">📖</span>
                            <h3 class="card-title">PORTUGUÊS</h3>
                            <p class="card-text">É aqui que tu mostra se manja dos textos, se sabe interpretar e se tem o dom da escrita. Literatura, gramática, interpretação - tudo que precisa pra mandar bem na vida.</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">🔢</span>
                            <h3 class="card-title">MATEMÁTICA</h3>
                            <p class="card-text">Os números não mentem, parceiro. Álgebra, geometria, estatística - é onde tu prova que tem o raciocínio afiado e sabe resolver os problemas da vida real.</p>
                        </div>
                    </div>
                </section>

                <section class="section">
                    <h2 class="section-title">💯 POR QUE NOSSOS SIMULADOS SÃO DIFERENTES</h2>
                    <div class="cards-grid">
                        <div class="card">
                            <span class="card-icon">🎮</span>
                            <h3 class="card-title">VIBE GAMER</h3>
                            <p class="card-text">Estudar não precisa ser chato, mano. Transformamos o aprendizado numa experiência épica, com elementos de jogo que te mantém motivado.</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">📊</span>
                            <h3 class="card-title">DIAGNÓSTICO CERTEIRO</h3>
                            <p class="card-text">Sistema inteligente que mostra exatamente onde tu tá mandando bem e onde precisa dar aquela força extra. É tipo um raio-x do teu conhecimento.</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">⚡</span>
                            <h3 class="card-title">FEEDBACK INSTANTÂNEO</h3>
                            <p class="card-text">Errou? Recebe a explicação na hora. Acertou? Já parte pro próximo nível. Sem enrolação, direto ao ponto.</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">🎯</span>
                            <h3 class="card-title">FOCO NO QUE IMPORTA</h3>
                            <p class="card-text">Zero perda de tempo. Só o que realmente cai no SAEB, otimizado pro máximo de resultados com o mínimo de esforço.</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">📈</span>
                            <h3 class="card-title">EVOLUÇÃO VISÍVEL</h3>
                            <p class="card-text">Gráficos e estatísticas que mostram tua evolução em tempo real. É viciante ver o próprio crescimento!</p>
                        </div>
                        <div class="card">
                            <span class="card-icon">👑</span>
                            <h3 class="card-title">CONFIANÇA TOTAL</h3>
                            <p class="card-text">Quando chegar na prova oficial, tu vai estar preparado e confiante. Sem nervosismo, só resultados.</p>
                        </div>
                    </div>
                </section>

                <section class="final-cta">
                    <div class="final-cta-content">
                        <h2>🚀 BORA DOMINAR ESSE BAGULHO?</h2>
                        <p style="font-size: clamp(1.1rem, 3vw, 1.4rem); margin-bottom: 3rem; color: var(--text-secondary);">
                            Não fica só na vontade, parceiro. O momento é agora! Transforma teu conhecimento em poder e mostra do que tu é capaz.
                        </p>
                        <button class="cta-main" onclick="showPage('lobby')">🔥 COMEÇAR AGORA</button>
                    </div>
                </section>
            </div>

            <!-- Credits Section -->
            <section class="credits">
                <h3>🎨 OS CRIADORES DESSA OBRA</h3>
                <div class="creators-grid">
                    <div class="creator-card">
                        <div class="creator-name">GUSTAVO HENRIQUE</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">DEV MASTER</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">KEVIN CARVALHO</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">CODE WARRIOR</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">LUIS FABIANO</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">TECH GENIUS</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">KRYSTHYAN</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">DESIGN NINJA</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">SÉRGIO MURILO</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">CREATIVE MIND</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">JOÃO MARCELO</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">INNOVATION EXPERT</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">GERSON TORRE</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">STRATEGY MASTER</div>
                    </div>
                    <div class="creator-card">
                        <div class="creator-name">E TODOS OS ALUNOS DE PROGRAMAÇÃO DE JOGOS/ MANHÃ</div>
                        <div style="font-size: clamp(0.8rem, 2vw, 0.9rem); color: var(--text-secondary); margin-top: 0.5rem;">COLABORAÇÃO ESPECIAL</div>
                    </div>
                </div>
                <p style="margin-top: 2rem; color: var(--text-secondary); font-size: clamp(0.9rem, 2vw, 1rem);">
                    E todos os alunos de Programação de Jogos/ Manhã
                </p>
            </section>

            <!-- Footer -->
            <footer>
                <p><strong style="color: var(--neon-green);">SAEB 2025</strong> - Elevando o nível da educação</p>
                <p>Projeto em desenvolvimento | <strong style="color: var(--neon-yellow);">BETA 2025</strong></p>
            </footer>
        </div>

        <!-- LOBBY PAGE -->
        <div id="lobbyPage" class="page">
            <div class="quiz-container">
                <!-- Quiz Selection Area -->
                <div class="quiz-selection">
                    <h1 class="lobby-title">LOBBY</h1>
                    <p class="lobby-subtitle">🎮 Escolha sua batalha</p>
                    
                    <div class="quiz-options">
                        <!-- Matemática Quiz Card -->
                        <div class="quiz-card matematica" onclick="iniciarQuiz('matematica', event)">
                            <span class="quiz-icon">🔢</span>
                            <h2 class="quiz-title">MATEMÁTICA</h2>
                            <p class="quiz-description">
                                Números, fórmulas e problemas que vão testar se tu realmente manja dos cálculos. Mostre que é fera nos números!
                            </p>
                            <div class="quiz-difficulty">
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                            </div>
                            <button class="start-quiz-btn">🚀 VAMO QUE VAMO</button>
                        </div>

                        <!-- Português Quiz Card -->
                        <div class="quiz-card portugues" onclick="iniciarQuiz('portugues', event)">
                            <span class="quiz-icon">📝</span>
                            <h2 class="quiz-title">PORTUGUÊS</h2>
                            <p class="quiz-description">
                                Textos, interpretação e gramática para mostrar que você manda bem em português. Vamo ver se sabe das palavras!
                            </p>
                            <div class="quiz-difficulty">
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                                <span class="difficulty-star">⭐</span>
                            </div>
                            <button class="start-quiz-btn">🎯 PARTIR PRO JOGO</button>
                        </div>
                    </div>
                </div>

                <!-- Diagnostics Panel -->
                <div class="diagnostics-panel">
                    <h3 class="diagnostics-title">📊 DIAGNÓSTICO</h3>
                    
                    <div id="stats-container">
                        <!-- Player Level Summary -->
                        <div class="stats-summary">
                            <h4>🏆 SUA PATENTE</h4>
                            <div class="level-badge" id="levelBadge">🥉 Bronze</div>
                            <div class="xp-bar">
                                <div class="xp-fill" id="xpFill" style="width: 0%"></div>
                            </div>
                            <div class="xp-text" id="xpText">0 / 100 XP</div>
                        </div>

                        <div class="no-data" id="noDataMessage">
                            <h4 style="color: var(--neon-yellow); margin-bottom: 1rem;">🎲 NENHUM DADO AINDA</h4>
                            <p>Jogue alguns quiz para ver seus dados aparecerem aqui!</p>
                        </div>

                        <div class="diagnostic-card">
                            <div class="diagnostic-label">📈 DESEMPENHO GERAL</div>
                            <div class="diagnostic-value" id="overallPerformanceValue">0%</div>
                            <div class="diagnostic-bar">
                                <div class="diagnostic-fill" id="overallPerformanceFill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="diagnostic-card">
                            <div class="diagnostic-label">🎯 ACERTOS MATEMÁTICA</div>
                            <div class="diagnostic-value" id="mathPerformanceValue">--</div>
                            <div class="diagnostic-bar">
                                <div class="diagnostic-fill" id="mathPerformanceFill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="diagnostic-card">
                            <div class="diagnostic-label">📝 ACERTOS PORTUGUÊS</div>
                            <div class="diagnostic-value" id="portuguesePerformanceValue">--</div>
                            <div class="diagnostic-bar">
                                <div class="diagnostic-fill" id="portuguesePerformanceFill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="player-stats">
                            <h4 style="color: var(--neon-blue); font-family: 'Oswald', sans-serif; text-transform: uppercase; margin-bottom: 1rem;">⚡ ESTATÍSTICAS DETALHADAS</h4>
                            <div class="stat-row">
                                <span class="stat-label">Quizzes Concluídos:</span>
                                <span class="stat-value" id="statQuizzesCompleted">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Total de Questões:</span>
                                <span class="stat-value" id="statTotalQuestions">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Respostas Corretas:</span>
                                <span class="stat-value" id="statCorrectAnswers">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Tempo Total Jogado:</span>
                                <span class="stat-value" id="statTotalTime">0min</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Tempo Médio/Questão:</span>
                                <span class="stat-value" id="statAvgTime">--</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Melhor Streak:</span>
                                <span class="stat-value" id="statBestStreak">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Streak Atual:</span>
                                <span class="stat-value" id="statCurrentStreak">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Pontuação Total:</span>
                                <span class="stat-value" id="statTotalScore">0</span>
                            </div>
                        </div>

                        <div class="swipe-indicator">
                            👈 Deslize para ver o quiz
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" onclick="scrollToTop()">⬆️</button>

    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div id="achievementText">🏆 Conquista Desbloqueada!</div>
    </div>

    <script>
        // CONTROLE DE PÁGINAS
        let currentPage = 'home';

        function showPage(pageName) {
            // Esconder todas as páginas
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Mostrar página solicitada
            document.getElementById(pageName + 'Page').classList.add('active');
            currentPage = pageName;

            // Controlar visibilidade do botão voltar
            const backBtn = document.getElementById('backBtn');
            if (pageName === 'home') {
                backBtn.style.display = 'none';
                document.querySelector('.prototype-tag').style.display = 'block';
            } else {
                backBtn.style.display = 'flex';
                document.querySelector('.prototype-tag').style.display = 'none';
            }

            // Scroll para o topo
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Recriar partículas se necessário
            setTimeout(() => {
                createNeonParticles();
                if (pageName === 'home') {
                    setTimeout(() => {
                        revealOnScroll();
                    }, 500);
                }
            }, 300);
        }

        // FUNÇÃO PARA INICIAR QUIZ COM EFEITO ESPECIAL
        function iniciarQuiz(materia = null, ev = null) {
            const evt = ev || window.event;
            const button = evt && evt.target ? evt.target.closest('.cta-main, .quiz-card') : null;
            
            if (button) {
                // Efeito de glitch no botão
                button.style.transform = 'scale(0.95)';
                button.style.filter = 'hue-rotate(180deg)';
                
                // Shake effect
                document.body.style.animation = 'shake 0.3s ease-in-out';
                
                setTimeout(() => {
                    button.style.transform = '';
                    button.style.filter = '';
                    document.body.style.animation = '';
                    
                    // Efeito de explosão visual
                    createExplosion(button);
                    
                    setTimeout(() => {
                        if (materia === 'matematica') {
                            showRouteLoader('Abrindo Matemática...');
                            setTimeout(() => window.location.href = 'quiz_matematica.html#from=lobby', 250);
                        } else if (materia === 'portugues') {
                            showRouteLoader('Abrindo Português...');
                            setTimeout(() => window.location.href = 'quiz_portugues.html#from=lobby', 250);
                        } else {
                            showPage('lobby');
                        }
                    }, 500);
                }, 150);
            } else {
                // Se não houver botão, apenas mostrar lobby
                showPage('lobby');
            }
        }

        function showRouteLoader(text) {
            const overlay = document.getElementById('routeOverlay');
            const textNode = document.getElementById('routeOverlayText');
            if (textNode) textNode.textContent = text || 'Carregando...';
            if (overlay) overlay.classList.add('active');
        }

        // CRIAR EFEITO DE EXPLOSÃO
        function createExplosion(element) {
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            const particleCount = window.innerWidth > 768 ? 15 : 8;
            const colors = ['var(--neon-green)', 'var(--neon-pink)', 'var(--neon-blue)', 'var(--neon-yellow)'];

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.style.cssText = `
                    position: fixed;
                    width: ${window.innerWidth > 768 ? 10 : 8}px;
                    height: ${window.innerWidth > 768 ? 10 : 8}px;
                    background: ${colors[i % colors.length]};
                    border-radius: 50%;
                    left: ${centerX}px;
                    top: ${centerY}px;
                    pointer-events: none;
                    z-index: 10000;
                    box-shadow: 0 0 10px currentColor;
                `;

                const angle = (i / particleCount) * 2 * Math.PI;
                const velocity = window.innerWidth > 768 ? 200 : 150;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;

                document.body.appendChild(particle);

                particle.animate([
                    { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                    { transform: `translate(${vx}px, ${vy}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                }).onfinish = () => particle.remove();
            }
        }

        // CRIAR PARTÍCULAS DE FUNDO
        function createNeonParticles() {
            const container = document.getElementById('particles');
            const colors = ['var(--neon-green)', 'var(--neon-pink)', 'var(--neon-blue)', 'var(--neon-yellow)'];
            
            // Limpar partículas existentes
            container.innerHTML = '';
            
            // Detectar dispositivo móvel ou performance reduzida
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            
            // Desabilitar partículas em mobile ou com motion reduzido
            if (isMobile || reducedMotion) {
                return;
            }
            
            // Ajustar quantidade baseada no tamanho da tela e performance
            let particleCount;
            if (window.innerWidth > 1200) {
                particleCount = 20;
            } else if (window.innerWidth > 768) {
                particleCount = 12;
            } else if (window.innerWidth > 480) {
                particleCount = 6;
            } else {
                particleCount = 3;
            }
            
            // Usar requestAnimationFrame para melhor performance
            requestAnimationFrame(() => {
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.cssText = `
                        left: ${Math.random() * 100}%;
                        animation-delay: ${Math.random() * 8}s;
                        animation-duration: ${8 + Math.random() * 4}s;
                        background: ${colors[Math.floor(Math.random() * colors.length)]};
                        box-shadow: 0 0 10px currentColor;
                    `;
                    container.appendChild(particle);
                }
            });
        }

        // ANIMAÇÃO DE SCROLL REVEAL
        function revealOnScroll() {
            const sections = document.querySelectorAll('.section');
            const triggerHeight = window.innerHeight * 0.8;

            sections.forEach(section => {
                const sectionTop = section.getBoundingClientRect().top;
                if (sectionTop < triggerHeight) {
                    section.classList.add('visible');
                }
            });
        }

        // EFEITO PARALLAX SUAVE
        function parallaxEffect() {
            if (currentPage !== 'home') return;
            
            const scrolled = window.pageYOffset;
            const hero = document.querySelector('.hero');
            const rate = scrolled * -0.3;
            
            if (hero && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                hero.style.transform = `translateY(${rate}px)`;
            }
        }

        // ANIMAÇÃO DO HEADER NO SCROLL
        function animateHeader() {
            const header = document.getElementById('header');
            const scrollTop = window.pageYOffset;
            
            if (scrollTop > 100) {
                header.style.background = 'rgba(5, 5, 5, 0.95)';
                header.style.borderBottom = '2px solid var(--neon-pink)';
            } else {
                header.style.background = 'rgba(10, 10, 10, 0.9)';
                header.style.borderBottom = '2px solid var(--neon-green)';
            }
        }

        // MOSTRAR/ESCONDER BOTÃO SCROLL TO TOP
        function toggleScrollTop() {
            const scrollTop = document.getElementById('scrollTop');
            const scrolled = window.pageYOffset;
            
            if (scrolled > 500) {
                scrollTop.classList.add('visible');
            } else {
                scrollTop.classList.remove('visible');
            }
        }

        // FUNÇÃO SCROLL TO TOP
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // OTIMIZAÇÃO DE PERFORMANCE COM THROTTLE
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }

        // EVENT LISTENERS OTIMIZADOS
        const optimizedScrollHandler = throttle(() => {
            revealOnScroll();
            parallaxEffect();
            animateHeader();
            toggleScrollTop();
        }, 16);

        // EFEITO DE HOVER NOS CARDS
        function initCardEffects() {
            const cards = document.querySelectorAll('.card, .stat-card, .creator-card, .quiz-card');
            
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.zIndex = '10';
                    
                    // Efeito sonoro visual
                    if (!this.querySelector('.hover-effect')) {
                        const effect = document.createElement('div');
                        effect.className = 'hover-effect';
                        effect.style.cssText = `
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: radial-gradient(circle at center, rgba(0, 255, 136, 0.2) 0%, transparent 70%);
                            pointer-events: none;
                            animation: pulse 0.6s ease-out;
                        `;
                        this.appendChild(effect);
                        
                        setTimeout(() => effect.remove(), 600);
                    }
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.zIndex = '1';
                });
                
                // Efeito de clique
                card.addEventListener('mousedown', function() {
                    this.style.transform = this.style.transform.replace(/scale\([^)]*\)/, '') + ' scale(0.98)';
                });
                
                card.addEventListener('mouseup', function() {
                    this.style.transform = this.style.transform.replace(/scale\([^)]*\)/, '');
                });
            });
        }

        // ANIMAÇÃO DE TYPING PARA O TÍTULO
        function typingEffect() {
            const title = document.querySelector('.hero h1');
            if (!title) return;
            
            const text = 'QUIZ SAEB 2025';
            title.textContent = '';
            
            let i = 0;
            const typeInterval = setInterval(() => {
                if (i < text.length) {
                    title.textContent += text.charAt(i);
                    i++;
                } else {
                    clearInterval(typeInterval);
                    title.style.animation = 'glitchText 3s ease-in-out infinite';
                }
            }, 150);
        }

        // CONTADOR ANIMADO
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            
            counters.forEach(counter => {
                const target = counter.textContent;
                const isInfinity = target === '∞';
                const isPercentage = target.includes('%');
                const isSeries = target.includes('ª');
                
                if (!isInfinity && !isPercentage && !isSeries && !isNaN(parseInt(target))) {
                    let count = 0;
                    const targetNum = parseInt(target);
                    const increment = targetNum / 60;
                    
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                const updateCounter = () => {
                                    if (count < targetNum) {
                                        count += increment;
                                        counter.textContent = Math.floor(count);
                                        requestAnimationFrame(updateCounter);
                                    } else {
                                        counter.textContent = target;
                                    }
                                };
                                updateCounter();
                                observer.unobserve(entry.target);
                            }
                        });
                    }, { threshold: 0.5 });
                    
                    observer.observe(counter);
                }
            });
        }

        // EASTER EGG - SEQUÊNCIA DE TECLAS
        function initEasterEgg() {
            const sequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
            let userSequence = [];
            
            document.addEventListener('keydown', (e) => {
                userSequence.push(e.code);
                
                if (userSequence.length > sequence.length) {
                    userSequence.shift();
                }
                
                if (JSON.stringify(userSequence) === JSON.stringify(sequence)) {
                    // Ativar modo especial
                    document.body.style.filter = 'hue-rotate(180deg)';
                    document.body.style.animation = 'rainbow 3s infinite';
                    
                    // Criar chuva de emojis
                    createEmojiRain();
                    
                    setTimeout(() => {
                        document.body.style.filter = '';
                        document.body.style.animation = '';
                        alert('🔥💯 EASTER EGG DESBLOQUEADO! 💯🔥\n\nTu é um verdadeiro hacker dos estudos! Respeito total! 🎮✨');
                    }, 3000);
                }
            });
        }

        // CHUVA DE EMOJIS PARA EASTER EGG
        function createEmojiRain() {
            const emojis = ['🔥', '💯', '🎯', '👑', '💎', '⚡', '🚀', '🎮'];
            const emojiCount = window.innerWidth > 768 ? 50 : 25;
            
            for (let i = 0; i < emojiCount; i++) {
                const emoji = document.createElement('div');
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.cssText = `
                    position: fixed;
                    font-size: ${window.innerWidth > 768 ? '2rem' : '1.5rem'};
                    left: ${Math.random() * 100}%;
                    top: -100px;
                    pointer-events: none;
                    z-index: 10000;
                    animation: fall 3s linear forwards;
                `;
                
                document.body.appendChild(emoji);
                
                setTimeout(() => emoji.remove(), 3000);
            }
        }

        // OTIMIZAÇÕES PARA DISPOSITIVOS MÓVEIS
        function optimizeForMobile() {
            // Reduzir animações em dispositivos móveis para melhor performance
            if (window.innerWidth <= 768) {
                const bgGrid = document.querySelector('.bg-grid');
                if (bgGrid) {
                    bgGrid.style.animation = 'gridMove 40s linear infinite';
                }
            }

            // Melhorar experiência touch
            const touchElements = document.querySelectorAll('.quiz-card, .card, .cta-main, .start-quiz-btn');
            touchElements.forEach(element => {
                element.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.95)';
                }, { passive: true });
                
                element.addEventListener('touchend', function() {
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 100);
                }, { passive: true });
            });
        }

        // MELHORAR EXPERIÊNCIA DE SCROLL EM MOBILE
        function improveScrollExperience() {
            // Suavizar scroll em iOS
            document.body.style.webkitOverflowScrolling = 'touch';
            
            // Ajustar viewport para mobile
            const meta = document.querySelector('meta[name="viewport"]');
            if (meta && window.innerWidth <= 768) {
                meta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
            }
        }

        // PERFORMANCE MONITORING
        function monitorPerformance() {
            if ('performance' in window) {
                window.addEventListener('load', () => {
                    const loadTime = performance.now();
                    console.log(`Site carregado em ${Math.round(loadTime)}ms`);
                });
            }
        }

        // INICIALIZAÇÃO QUANDO O DOM ESTIVER PRONTO
        document.addEventListener('DOMContentLoaded', function() {
            // Remover loading
            document.body.classList.remove('loading');
            
            // Inicializar todas as funcionalidades
            createNeonParticles();
            initCardEffects();
            animateCounters();
            initEasterEgg();
            optimizeForMobile();
            improveScrollExperience();
            
            // Verificar se animações estão habilitadas
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                setTimeout(typingEffect, 1000);
            }
            
            // Event listeners
            window.addEventListener('scroll', optimizedScrollHandler);
            window.addEventListener('resize', throttle(() => {
                createNeonParticles();
                optimizeForMobile();
            }, 250));
            
            // Abrir lobby via hash, se presente
            if (location.hash.includes('lobby')) {
                showPage('lobby');
            }

            // Trigger inicial
            setTimeout(() => {
                revealOnScroll();
                loadUserData();
            }, 500);

            // Adicionar classe para dispositivos touch
            if ('ontouchstart' in window) {
                document.body.classList.add('touch-device');
            }
            
            // Adicionar suporte para navegação por teclado
            document.addEventListener('keydown', function(e) {
                // Enter ou Space na logo para navegar
                if ((e.key === 'Enter' || e.key === ' ') && e.target.classList.contains('logo')) {
                    e.preventDefault();
                    showPage('home');
                }
                
                // Escape para fechar menu mobile
                if (e.key === 'Escape') {
                    const mobileNav = document.getElementById('mobileNav');
                    if (mobileNav && mobileNav.classList.contains('active')) {
                        toggleMobileMenu();
                    }
                }
            });
            
            // Melhorar foco visível
            document.body.addEventListener('mousedown', () => {
                document.body.classList.add('using-mouse');
            });
            
            document.body.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    document.body.classList.remove('using-mouse');
                }
            });
        });

        // PREVENÇÃO DE BUGS DE ORIENTAÇÃO EM MOBILE
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                createNeonParticles();
                optimizeForMobile();
                // Reajustar altura em mobile
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }, 500);
        });

        // MELHORAR PERFORMANCE AO SAIR DA PÁGINA
        window.addEventListener('beforeunload', function() {
            // Limpar animações para evitar memory leaks
            const particles = document.getElementById('particles');
            if (particles) {
                particles.innerHTML = '';
            }
        });

        // INICIALIZAR PERFORMANCE MONITORING
        monitorPerformance();

        // TOGGLE MOBILE MENU
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const menuToggle = document.getElementById('mobileMenuToggle');
            
            if (mobileNav && menuToggle) {
                mobileNav.classList.toggle('active');
                menuToggle.classList.toggle('active');
                
                // Atualizar aria-expanded
                const isExpanded = mobileNav.classList.contains('active');
                menuToggle.setAttribute('aria-expanded', isExpanded);
                
                // Prevenir scroll do body quando menu estiver aberto
                if (isExpanded) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            }
        }
        
        // Fechar menu mobile ao clicar fora
        document.addEventListener('click', function(e) {
            const mobileNav = document.getElementById('mobileNav');
            const menuToggle = document.getElementById('mobileMenuToggle');
            
            if (mobileNav && menuToggle && mobileNav.classList.contains('active')) {
                if (!mobileNav.contains(e.target) && !menuToggle.contains(e.target)) {
                    toggleMobileMenu();
                }
            }
        });

        // SHOW STATS PAGE
        function showStats() {
            showPage('lobby');
            // Scroll to diagnostics panel after a short delay
            setTimeout(() => {
                const diagnosticsPanel = document.querySelector('.diagnostics-panel');
                if (diagnosticsPanel) {
                    diagnosticsPanel.scrollIntoView({ behavior: 'smooth' });
                }
            }, 300);
        }

        // RESET PROGRESS
        function resetProgress() {
            if (confirm('⚠️ Tem certeza que deseja resetar todo seu progresso?\n\nIsso apagará todas as suas estatísticas e conquistas!')) {
                localStorage.removeItem('saebStats');
                localStorage.removeItem('saebAchievements');
                localStorage.removeItem('saebLevel');
                loadUserData();
                showAchievement('🔄 Progresso Resetado', 'warning');
            }
        }

        // SHOW ACHIEVEMENT POPUP
        function showAchievement(text, type = 'success') {
            const popup = document.getElementById('achievementPopup');
            const textElement = document.getElementById('achievementText');
            
            if (popup && textElement) {
                textElement.textContent = text;
                
                // Set color based on type
                if (type === 'warning') {
                    popup.style.background = 'var(--gradient-secondary)';
                } else if (type === 'error') {
                    popup.style.background = 'linear-gradient(135deg, #FF3333, #FF6666)';
                } else {
                    popup.style.background = 'var(--gradient-main)';
                }
                
                popup.classList.add('show');
                
                setTimeout(() => {
                    popup.classList.remove('show');
                }, 3000);
            }
        }

        // CALCULATE LEVEL AND XP - Sistema de Patentes
        function calculateLevel(totalScore) {
            const levels = [
                { min: 0, max: 99, name: 'Bronze', color: '#CD7F32', icon: '🥉' },
                { min: 100, max: 199, name: 'Prata', color: '#C0C0C0', icon: '🥈' },
                { min: 200, max: 299, name: 'Ouro', color: '#FFD700', icon: '🥇' },
                { min: 300, max: 399, name: 'Platina', color: '#E5E4E2', icon: '💎' },
                { min: 400, max: 499, name: 'Diamante', color: '#00FFFF', icon: '💎' },
                { min: 500, max: 599, name: 'Mestre', color: '#9400D3', icon: '👑' },
                { min: 600, max: Infinity, name: 'Desafiante', color: '#FF0080', icon: '🔥' }
            ];
            
            for (let level of levels) {
                if (totalScore >= level.min && totalScore <= level.max) {
                    const xpInLevel = totalScore - level.min;
                    const xpNeeded = level.max - level.min + 1;
                    const progress = Math.min(100, (xpInLevel / xpNeeded) * 100);
                    
                    return {
                        name: level.name,
                        color: level.color,
                        icon: level.icon,
                        xp: xpInLevel,
                        xpNeeded: xpNeeded,
                        progress: progress,
                        totalScore: totalScore
                    };
                }
            }
            
            return {
                name: 'Bronze',
                color: '#CD7F32',
                icon: '🥉',
                xp: 0,
                xpNeeded: 100,
                progress: 0,
                totalScore: 0
            };
        }

        // CHECK FOR ACHIEVEMENTS
        function checkAchievements(stats) {
            const achievements = JSON.parse(localStorage.getItem('saebAchievements') || '{}');
            
            // First Quiz Achievement
            if (!achievements.firstQuiz && stats.quizzesCompleted >= 1) {
                achievements.firstQuiz = true;
                showAchievement('🎯 Primeira Vitória! Completou seu primeiro quiz!');
            }
            
            // 5 Quizzes Achievement
            if (!achievements.quiz5 && stats.quizzesCompleted >= 5) {
                achievements.quiz5 = true;
                showAchievement('🔥 Em Chamas! 5 quizzes completados!');
            }
            
            // 10 Quizzes Achievement
            if (!achievements.quiz10 && stats.quizzesCompleted >= 10) {
                achievements.quiz10 = true;
                showAchievement('💎 Dedicado! 10 quizzes completados!');
            }
            
            // Perfect Score Achievement
            if (!achievements.perfect && stats.lastQuizScore === 100) {
                achievements.perfect = true;
                showAchievement('💯 Perfeição! Acertou todas as questões!');
            }
            
            // Streak Achievements
            if (!achievements.streak5 && stats.currentStreak >= 5) {
                achievements.streak5 = true;
                showAchievement('⚡ Sequência de 5! Continue assim!');
            }
            
            if (!achievements.streak10 && stats.currentStreak >= 10) {
                achievements.streak10 = true;
                showAchievement('🌟 Sequência de 10! Você está voando!');
            }
            
            // Time Achievement
            if (!achievements.speedster && stats.lastQuizTime && stats.lastQuizTime < 60) {
                achievements.speedster = true;
                showAchievement('⚡ Velocista! Quiz completado em menos de 1 minuto!');
            }
            
            // Score Milestones
            if (!achievements.score1000 && stats.totalScore >= 1000) {
                achievements.score1000 = true;
                showAchievement('🏆 Milestone! 1000 pontos alcançados!');
            }
            
            if (!achievements.score5000 && stats.totalScore >= 5000) {
                achievements.score5000 = true;
                showAchievement('👑 Rei dos Pontos! 5000 pontos!');
            }
            
            localStorage.setItem('saebAchievements', JSON.stringify(achievements));
        }

        // CARREGAR DADOS DO LOCALSTORAGE E ATUALIZAR DIAGNÓSTICO
        function loadUserData() {
            try {
                const raw = localStorage.getItem('saebStats');
                if (!raw) {
                    // Initialize default stats if none exist
                    const defaultStats = {
                        quizzesCompleted: 0,
                        overallCorrect: 0,
                        overallTotal: 0,
                        mathCorrect: 0,
                        mathTotal: 0,
                        portCorrect: 0,
                        portTotal: 0,
                        totalMinutes: 0,
                        bestStreak: 0,
                        currentStreak: 0,
                        totalScore: 0,
                        totalQuestions: 0
                    };
                    localStorage.setItem('saebStats', JSON.stringify(defaultStats));
                    return;
                }
                
                const data = JSON.parse(raw);

                const hasData = (data.quizzesCompleted || 0) > 0;
                const noData = document.getElementById('noDataMessage');
                if (noData) {
                    noData.style.display = hasData ? 'none' : 'block';
                }

                // Update Level and XP
                const levelInfo = calculateLevel(data.totalScore || 0);
                const levelBadge = document.getElementById('levelBadge');
                const xpFill = document.getElementById('xpFill');
                const xpText = document.getElementById('xpText');
                
                if (levelBadge) {
                    levelBadge.textContent = `${levelInfo.icon || ''} ${levelInfo.name}`;
                    levelBadge.style.background = `linear-gradient(135deg, ${levelInfo.color}, ${levelInfo.color}88)`;
                }
                if (xpFill) {
                    xpFill.style.width = `${levelInfo.progress}%`;
                }
                if (xpText) {
                    xpText.textContent = `${levelInfo.xp} / ${levelInfo.xpNeeded} XP`;
                }

                // Overall Performance
                const overall = Math.round((data.overallCorrect || 0) / Math.max(1, (data.overallTotal || 0)) * 100);
                const overallValue = document.getElementById('overallPerformanceValue');
                const overallFill = document.getElementById('overallPerformanceFill');
                if (overallValue) overallValue.textContent = `${isFinite(overall) ? overall : 0}%`;
                if (overallFill) overallFill.style.width = `${isFinite(overall) ? overall : 0}%`;

                // Matemática
                if (data.mathTotal > 0) {
                    const mathPct = Math.round((data.mathCorrect || 0) / data.mathTotal * 100);
                    const mathValue = document.getElementById('mathPerformanceValue');
                    const mathFill = document.getElementById('mathPerformanceFill');
                    if (mathValue) mathValue.textContent = `${mathPct}%`;
                    if (mathFill) mathFill.style.width = `${mathPct}%`;
                }

                // Português
                if (data.portTotal > 0) {
                    const portPct = Math.round((data.portCorrect || 0) / data.portTotal * 100);
                    const portValue = document.getElementById('portuguesePerformanceValue');
                    const portFill = document.getElementById('portuguesePerformanceFill');
                    if (portValue) portValue.textContent = `${portPct}%`;
                    if (portFill) portFill.style.width = `${portPct}%`;
                }

                // Detailed Statistics
                const statElements = {
                    statQuizzesCompleted: data.quizzesCompleted || 0,
                    statTotalQuestions: data.totalQuestions || 0,
                    statCorrectAnswers: data.overallCorrect || 0,
                    statTotalTime: `${data.totalMinutes || 0}min`,
                    statAvgTime: data.totalQuestions > 0 
                        ? `${Math.round((data.totalMinutes * 60) / data.totalQuestions)}s` 
                        : '--',
                    statBestStreak: data.bestStreak || 0,
                    statCurrentStreak: data.currentStreak || 0,
                    statTotalScore: data.totalScore || 0
                };

                for (const [id, value] of Object.entries(statElements)) {
                    const element = document.getElementById(id);
                    if (element) element.textContent = value;
                }

                // Check for achievements
                checkAchievements(data);
            } catch (e) {
                console.warn('Falha ao carregar dados locais:', e);
            }
        }

        // Update stats from quiz pages
        window.addEventListener('storage', function(e) {
            if (e.key === 'saebStats') {
                loadUserData();
            }
        });

        // CARREGAR DADOS INICIAIS
        loadUserData();
    </script>
</body>
</html>